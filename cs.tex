\documentclass{subfile}

\begin{document}
	\section{Cauchy-Schwarz Inequality}\label{sec:cs}
	\textit{Cauchy-Schwarz} inequality also known as \textit{Cauchy-Bunyakovsky-Schwarz} inequality is among the most important results for solving problems.
		\begin{theorem}[Cauchy-Bunyakovsky-Schwarz inequality]
			Let $n$ be a positive integer and $a_1,\ldots,a_n,b_1,\ldots,b_n$ be real numbers. Then
				\begin{align*}
					(a_1^2+\ldots+a_n^2)(b_1^+\ldots+b_n^2)
						& \geq(a_1b_1+\ldots+a_nb_n)^2\\
					\left(\sum_{i=1}^na_i^2\right)\left(\sum_{i=1}^nb_i^2\right)
						& \geq\left(\sum_{i=1}^na_ib_i\right)^2
				\end{align*}
			and equality holds if and only if $\frac{a_1}{b_1}=\cdots=\frac{a_n}{b_n}$.
		\end{theorem}
	
	This theorem has many proofs and even more applications. We will see later in \hyperref[ch:engel]{$\S$\ref{ch:engel}} how powerful just a special case of this inequality can be. We will start with a proof that is probably the most elegant one.
	
		\begin{proof}[Proof by vector]
			Consider two vectors $\mathbf{a}=(a_1,\ldots,a_n),\mathbf{b}=(b_1,\ldots,b_n)$ and their modulus
				\begin{align*}
					\|\mathbf{a}\|
						& = \sqrt{a_1^2+\ldots+a_n^2}\\
					\|\mathbf{b}\|
						& = \sqrt{b_1^2+\ldots+b_n^2}
				\end{align*}
			If $\theta$ is the minimum angle between them, from the rule of \textit{dot product} we get
				\begin{align*}
					\mathbf{a}\cdot\mathbf{b}
						& = a_1b_1+\ldots+a_nb_n\\
					\|\mathbf{a}\|\cdot\|\mathbf{b}\|\cdot\cos\theta
						& = a_1b_1+\ldots+a_nb_n\\
					\cos{\theta}
						& = \dfrac{a_1b_1+\ldots+a_nb_n}{\sqrt{a_1^2+\ldots+a_n^2}\sqrt{b_1^2+\ldots+b_n^2}}
				\end{align*}
			Since $-1\leq\cos\theta\leq1$, after squaring we get
				\begin{align*}
					\cos^2\theta
						& \leq1\\
					\left(\dfrac{a_1b_1+\ldots+a_nb_n}{\sqrt{a_1^2+\ldots+a_n^2}\sqrt{b_1^2+\ldots+b_n^2}}\right)^2
						& \leq1\\
					\iff (a_1^2+\ldots+a_n^2)(b_1^2+\ldots+b_n^2)
						& \geq(a_1b_1+\ldots+a_nb_n)^2
				\end{align*}
			Equality occurs if and only $\cos\theta=1$ or when $\mathbf{a}$ and $\mathbf{b}$ are parallel. In other words, when we have
				\begin{align*}
					\dfrac{a_1}{b_1}& = \ldots=\dfrac{a_n}{b_n}
				\end{align*}
		\end{proof}
	
		\begin{proof}[Classical proof]
			Consider the quadratic polynomial
				\begin{align*}
					P(x)
						& = \sum_{i=1}^n(a_ix-b_i)^2\\
						& = x^2\sum_{i=1}^na_i^2-2x\sum_{i=1}^na_ib_i+\sum_{i=1}^nb_i^2\\
						& = Ax^2-Bx+C
				\end{align*}
			where $A=\sum_{i=1}^na_i^2,B=2\sum_{i=1}^na_ib_i,C=\sum_{i=1}^nb_i^2$. Setting $x_i\to a_ix-b_i$ in \hyperref[eqn:extendedmother]{$\ddagger$\ref{eqn:extendedmother}}, we see that $P(x)\geq0$. Then the discriminant of $P$ must be $\leq0$.
				\begin{align*}
					B^2-4AC
						& \leq0\\
					4(a_1b_1+\ldots+a_nb_n)^2-4(a_1^2+\ldots+a_n^2)(b_1^2+\ldots+b_n^2)
						& \leq0\\
					\iff (a_1^2+\ldots+a_n^2)(b_1^2+\ldots+b_n^2)
						& \geq(a_1b_1+\ldots+a_nb_n)^2
				\end{align*}
			Equality occurs if and only if $P(x)=0$ for some $x$. Then
				\begin{align*}
					x
						& = \dfrac{b_1}{a_1}=\cdots=\dfrac{b_n}{a_n}
				\end{align*}
		\end{proof}
	
		\begin{proof}[Proof by arithmetic-geometric mean]
			We use the notations from the proof above. If $A=0$ or $B=0$, then the inequality is an identity. So, assume that $A,B\neq0$. Note the following.
				\begin{align*}
					\dfrac{a_1^2}{A}+\dfrac{b_1^2}{B}
						& \geq2\dfrac{a_1b_1}{\sqrt{AB}}\\
					\vdots\\
					\dfrac{a_n^2}{A}+\dfrac{b_n^2}{B}
						& \geq2\dfrac{a_nb_n}{\sqrt{AB}}
				\end{align*}
			Summing them together,
				\begin{align*}
					\dfrac{a_1^2}{A}+\dfrac{b_1^2}{B}+\ldots+\dfrac{a_n^2}{A}+\dfrac{b_1^2}{B}
						& \geq2\dfrac{a_1b_1+\ldots+a_nb_n}{\sqrt{AB}}\\
					\dfrac{a_1^2+\ldots+a_n^2}{A}+\dfrac{b_1^2+\ldots+b_n^2}{B}
						& \geq2\dfrac{a_1b_1+\ldots+a_nb_n}{\sqrt{AB}}\\
					2
						& \geq\dfrac{a_1b_1+\ldots+a_nb_n}{\sqrt{AB}}\\
					AB
						& \geq\left(a_1b_1+\ldots+a_nb_n\right)^2
				\end{align*}
			Again, equality holds if and only if $\frac{a_i}{A}=\frac{b_i}{B}$ or $\frac{a_i}{b_i}=\frac{A}{B}=c$, a constant for all $i$.
		\end{proof}
	
		\begin{proof}[Proof using the mother of inequality]
			Let $x_i=\frac{a_i}{A},y_i=\frac{b_i}{B}$ for $1\leq i\leq n$. We have
				\begin{align*}
					\sum_{i=1}^nx_i^2
						& = \sum_{i=1}^ny_i^2=1
				\end{align*}
			Rewrite the inequality as
				\begin{align*}
					x_1y_1+\ldots+x_ny_n
						& \leq1\\
					\iff2(x_1y_1+\ldots+x_ny_n)
						& \leq2\\
					\iff2(x_1y_1+\ldots+x_ny_n)
						& \leq x_1^2+\ldots+x_n^2+y_1^2+\ldots+y_n^2\\
					\iff(x_i-y_i)^2+\ldots+(x_n-y_n)^2
						& \geq0
				\end{align*}
			This is obviously true.
		\end{proof}
	
		\begin{proof}[Proof using sequences]
			Define the sequence $(S_n)$ as
				\begin{align*}
					D_n
						& = a_1b_1+\ldots+a_nb_n\\
					A_n
						& = a_1^2+\ldots+a_n^2\\
					B_n
						& = b_1^2+\ldots+b_n^2\\
					S_n
						& = D_n^2-A_nB_n
				\end{align*}
			We want to show that $S_n\geq0$. See the following.
				\begin{align*}
					D_{n+1}^2-D_n^2
						& = (D_n+a_{n+1}b_{n+1})^2-D_n^2\\
						& = 2a_{n+1}b_{n+1}D_n+a_{n+1}^2b_{n+1}^2\\
					A_{n+1}B_{n+1}-A_nB_n
						& = (A_n+a_{n+1}^2)(B_n+b_{n+1}^2)-A_nB_n\\
						& = a_{n+1}^2B_n+b_{n+1}^2A_n+a_{n+1}^2b_{n+1}^2\\
					S_{n+1}-S_n
						& = D_{n+1}^2-A_{n+1}B_{n+1}-D_n^2+A_nB_n\\
						& = 2a_{n+1}b_{n+1}D_n+a_{n+1}^2b_{n+1}^2-a_{n+1}^2B_n-b_{n+1}^2A_n-a_{n+1}^2b_{n+1}^2\\
						& = 2a_{n+1}b_{n+1}D_n-a_{n+1}^2B_n-b_{n+1}^2A_n\\
						& = 2a_{n+1}b_{n+1}(D_{n-1}+a_nb_n)-a_{n+1}^2(B_{n-1}+b_{n+1}^2)-b_{n+1}^2(A_{n-1}+a_{n+1}^2)\\
						& = 2a_{n+1}b_{n+1}D_{n-1}+2a_{n+1}b_{n+1}a_nb_n-a_{n+1}^2B_{n-1}-a_{n+1}^2b_{n}^2-b_{n+1}^2A_{n-1}-a_{n+1}^2b_{n}^2\\
						& = 2a_{n+1}b_{n+1}D_{n-1}-a_{n+1}^2B_{n-1}-b_{n+1}^2A_{n-1}-(a_{n+1}b_n-a_{n}b_{n+1})^2\\
						& \vdots\\
						& = -\left((a_{n+1}b_n-a_nb_{n+1})^2+\ldots+(a_{n+1}b_1-a_1b_{n+1})^2\right)
				\end{align*}
			Clearly, $S_{n+1}-S_n\leq0$, so
				\begin{align*}
					S_{n+1}
						& \leq S_n\leq\cdots S_1=0
				\end{align*}
			This proves the inequality.
		\end{proof}
\end{document}